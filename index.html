<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparkllex - Premium Cleaning Services | Luxury & Perfection</title>
    <link rel="icon" type="image/png" href="./images/logo.png">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Sparkllex offers premium cleaning services for homes and businesses. Experience luxury cleaning with eco-friendly products. Book online in minutes!">
    <meta name="keywords" content="cleaning service, house cleaning, professional cleaners, home cleaning, commercial cleaning, eco-friendly cleaning, premium cleaning">
    <meta name="author" content="Sparkllex LLC">
    <link rel="canonical" href="https://sparkllex.com/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sparkllex.com/">
    <meta property="og:title" content="Sparkllex - Premium Cleaning Services">
    <meta property="og:description" content="Experience luxury cleaning with Sparkllex. Professional, eco-friendly, satisfaction guaranteed.">
    <meta property="og:image" content="https://sparkllex.com/images/logo.png">
    <meta property="og:site_name" content="Sparkllex">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://sparkllex.com/">
    <meta name="twitter:title" content="Sparkllex - Premium Cleaning Services">
    <meta name="twitter:description" content="Experience luxury cleaning with Sparkllex. Professional, eco-friendly, satisfaction guaranteed.">
    <meta name="twitter:image" content="https://sparkllex.com/images/logo.png">
    
    <!-- Schema.org LocalBusiness -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Sparkllex",
        "description": "Premium cleaning services for homes and businesses",
        "url": "https://sparkllex.com",
        "logo": "https://sparkllex.com/images/logo.png",
        "image": "https://sparkllex.com/images/logo.png",
        "telephone": "+1-555-123-4567",
        "email": "hello@sparkllex.com",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "US"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "37.7749",
            "longitude": "-122.4194"
        },
        "openingHours": "Mo-Fr 08:00-18:00, Sa 09:00-14:00",
        "priceRange": "$$",
        "sameAs": [
            "https://www.facebook.com/sparkllex",
            "https://www.instagram.com/sparkllex",
            "https://www.linkedin.com/company/sparkllex"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "500"
        }
    }
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9TYQY947Y5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9TYQY947Y5');
    </script>
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#008080">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Sparkllex">
    <link rel="apple-touch-icon" href="./images/logo.png">
    
    <script src="./translations.js"></script>
    <script src="./apply-translations.js"></script>
    <script src="./language-selector.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="price-localizer.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'teal-primary': '#008080',
                        'teal-dark': '#006666',
                        'gold-accent': '#D4AF37',
                        'light-bg': '#F4F9F9',
                    }
                }
            }
        }
    </script>
    <style>
        .gold-text { color: #D4AF37; }
        .btn-teal { background: #008080; color: white; transition: 0.3s; }
        .btn-teal:hover { background: #006666; transform: translateY(-2px); }
        .reveal { opacity: 0; transform: translateY(20px); transition: 0.6s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }
        #mobile-menu { transition: 0.4s ease-in-out; transform: translateX(100%); }
        #mobile-menu.open { transform: translateX(0); }
    </style>
</head>
<body class="bg-white text-gray-900">

    <nav class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur border-b border-gray-100 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <a href="#inicio" class="hover:opacity-80 transition">
                <img src="./images/logo.png" alt="Sparkllex" class="h-14 md:h-16">
            </a>

            <div class="hidden lg:flex items-center space-x-8 font-bold text-sm uppercase tracking-widest">
                <a href="#inicio" class="hover:text-teal-primary transition" id="homeNav"></a>
                <a href="#servicios" class="hover:text-teal-primary transition" id="servicesNav"></a>
                <a href="#planes" class="hover:text-teal-primary transition" id="plansNav"></a>
                <a href="how-it-works.html" class="hover:text-teal-primary transition" id="howItWorksNav"></a>
            </div>

            <div class="flex items-center space-x-4">
                <div id="nav-lang-container"></div>
                <a href="login.html" class="btn-teal px-6 py-2 rounded-full text-xs uppercase font-black" id="btnAccess">Log In</a>
                <button id="menu-toggle" class="lg:hidden text-teal-primary text-2xl"><i class="fas fa-bars"></i></button>
            </div>
        </div>
    </nav>

    <div id="mobile-menu" class="fixed inset-y-0 right-0 w-72 bg-white z-[60] shadow-2xl p-8 flex flex-col space-y-6 lg:hidden font-bold">
        <button id="menu-close" class="text-teal-primary text-3xl self-end"><i class="fas fa-times"></i></button>
        <a href="#inicio" onclick="toggleMenu()" id="mobileNavHome">Home</a>
        <a href="#servicios" onclick="toggleMenu()" id="mobileNavServices">Services</a>
        <a href="#planes" onclick="toggleMenu()" id="mobileNavPlans">Plans</a>
        <a href="how-it-works.html" onclick="toggleMenu()" id="mobileHowItWorks">How it works</a>
        <!-- Mobile Language Selector (inserted by language-selector.js) -->
        <div id="mobile-lang-container" class="pt-4 border-t border-gray-100"></div>
    </div>

    <section id="inicio" class="pt-32 pb-20 bg-gradient-to-br from-teal-primary to-teal-dark text-white text-center">
        <div class="max-w-7xl mx-auto px-6 reveal active">
            <img src="./images/neon-robot-vacuum-cleaner.jpg" class="mx-auto mb-10 rounded-[2rem] max-w-xs md:max-w-xl shadow-2xl border-4 border-white/10">
            
            <h1 class="text-5xl md:text-8xl font-black mb-6 leading-tight" id="indexTitle"></h1>
            <p class="text-lg md:text-2xl opacity-90 mb-12 uppercase tracking-[0.2em]" id="indexSubtitle"></p>

            <div class="flex flex-col sm:flex-row justify-center gap-6 mb-20">
                <a href="signup.html" class="bg-white text-teal-primary px-10 py-4 rounded-full font-black uppercase tracking-widest shadow-xl hover:bg-gold-accent hover:text-white transition" id="getStarted"></a>
                <a href="#servicios" class="border-2 border-white/40 px-10 py-4 rounded-full font-black uppercase tracking-widest hover:border-white transition" id="viewServices"></a>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto pt-10 border-t border-white/10">
                <div><div class="text-3xl font-black gold-text">500+</div><div class="text-[10px] uppercase font-bold opacity-60" id="clients"></div></div>
                <div><div class="text-3xl font-black gold-text">4.9?</div><div class="text-[10px] uppercase font-bold opacity-60" id="rating"></div></div>
                <div><div class="text-3xl font-black gold-text">24/7</div><div class="text-[10px] uppercase font-bold opacity-60" id="support"></div></div>
                <div><div class="text-3xl font-black gold-text">100%</div><div class="text-[10px] uppercase font-bold opacity-60" id="guarantee"></div></div>
            </div>
        </div>
    </section>

    <section id="servicios" class="py-24 bg-light-bg">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl font-black mb-16" id="ourServices"></h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white rounded-[2rem] overflow-hidden shadow-xl reveal">
                    <img src="./images/cleaning-equipments-arranged-row.jpg" class="w-full h-64 object-cover" loading="lazy">
                    <div class="p-6"><h3 class="text-xl font-black" id="deepCleaning"></h3></div>
                </div>
                <div class="bg-white rounded-[2rem] overflow-hidden shadow-xl reveal">
                    <img src="./images/elite.jpg" class="w-full h-64 object-cover" style="object-position: 70% 15%;" loading="lazy">
                    <div class="p-6"><h3 class="text-xl font-black" id="eliteLaundry"></h3></div>
                </div>
                <div class="bg-white rounded-[2rem] overflow-hidden shadow-xl reveal">
                    <img src="./images/positive-female-housekeeper.jpg" class="w-full h-64 object-cover" loading="lazy">
                    <div class="p-6"><h3 class="text-xl font-black" id="masterIroning"></h3></div>
                </div>
                <div class="bg-white rounded-[2rem] overflow-hidden shadow-xl reveal">
                    <img src="./images/reparaciones.jpg" class="w-full h-64 object-cover" loading="lazy">
                    <div class="p-6"><h3 class="text-xl font-black" id="maintenance"></h3></div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <h2 class="text-4xl font-black mb-16" id="whyChooseSparkllex"></h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                <div class="reveal">
                    <div class="text-teal-primary text-5xl mb-6"><i class="fas fa-shield-alt"></i></div>
                    <h3 class="text-2xl font-black mb-4" id="totalTrust"></h3>
                    <p class="text-gray-500" id="rigorouslySelected"></p>
                </div>
                <div class="reveal">
                    <div class="text-teal-primary text-5xl mb-6"><i class="fas fa-gem"></i></div>
                    <h3 class="text-2xl font-black mb-4" id="premiumQuality"></h3>
                    <p class="text-gray-500" id="highEndProducts"></p>
                </div>
                <div class="reveal">
                    <div class="text-teal-primary text-5xl mb-6"><i class="fas fa-clock"></i></div>
                    <h3 class="text-2xl font-black mb-4" id="flexibility"></h3>
                    <p class="text-gray-500" id="plansAdapted"></p>
                </div>
            </div>
        </div>
    </section>

    <section id="planes" class="py-24 bg-light-bg">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <h2 class="text-4xl font-black mb-16" id="subscriptionPlans"></h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                <div class="bg-white p-10 rounded-[3rem] shadow-xl reveal flex flex-col">
                    <h3 class="text-2xl font-black mb-2" id="basicPlan"></h3>
                    <div class="text-5xl font-black mb-6"><span class="price-amount" data-price-usd="79">$79</span><span class="text-sm text-gray-400 font-bold" id="perMonth"></span></div>
                    <p class="text-gray-500 mb-10" id="basicSubtitle"></p>
                    <div class="mt-auto flex flex-col gap-4">
                        <a href="plan-basico.html" class="btn-teal py-4 rounded-2xl font-black uppercase text-xs tracking-widest" id="seeMore1"></a>
                        <a href="signup.html?plan=basico" class="text-teal-primary font-black uppercase text-[10px] tracking-[0.2em] hover:underline" id="choosePlan1"></a>
                    </div>
                </div>
                <div class="bg-teal-primary text-white p-12 rounded-[3rem] shadow-2xl reveal md:scale-105 flex flex-col">
                    <span class="text-[10px] font-black uppercase tracking-[0.3em] opacity-70 mb-2" id="mostPopular"></span>
                    <h3 class="text-2xl font-black mb-2" id="proPlan"></h3>
                    <div class="text-5xl font-black mb-6"><span class="price-amount" data-price-usd="149">$149</span><span class="text-sm opacity-60 font-bold" id="perMonth2"></span></div>
                    <p class="opacity-80 mb-10" id="proSubtitle"></p>
                    <div class="mt-auto flex flex-col gap-4">
                        <a href="plan-pro.html" class="bg-white text-teal-primary py-4 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg" id="seeMore2"></a>
                        <a href="signup.html?plan=pro" class="text-white opacity-80 font-black uppercase text-[10px] tracking-[0.2em] hover:underline" id="choosePlan2"></a>
                    </div>
                </div>
                <div class="bg-white p-10 rounded-[3rem] shadow-xl reveal flex flex-col">
                    <h3 class="text-2xl font-black mb-2" id="familiarPlan"></h3>
                    <div class="text-5xl font-black mb-6"><span class="price-amount" data-price-usd="249">$249</span><span class="text-sm text-gray-400 font-bold" id="perMonth3"></span></div>
                    <p class="text-gray-500 mb-10" id="familiarSubtitle"></p>
                    <div class="mt-auto flex flex-col gap-4">
                        <a href="plan-familiar.html" class="btn-teal py-4 rounded-2xl font-black uppercase text-xs tracking-widest" id="seeMore3"></a>
                        <a href="signup.html?plan=familiar" class="text-teal-primary font-black uppercase text-[10px] tracking-[0.2em] hover:underline" id="choosePlan3"></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contacto" class="py-24 bg-white text-center">
        <div class="max-w-5xl mx-auto px-6">
            <div class="mb-12 reveal">
                <img src="./images/open-laptop-with-stationeries-office-desk-office.jpg" class="rounded-[3rem] mx-auto max-w-full md:max-w-2xl shadow-2xl">
            </div>
            <h2 class="text-4xl font-black mb-8" id="contact"></h2>
            <div class="bg-light-bg p-6 md:p-12 rounded-[3rem] border border-teal-primary/10 reveal">
                <p class="text-xl sm:text-3xl md:text-6xl font-black gold-text mb-8 md:mb-12">+1 (617) 778-8441</p>
                <div class="flex flex-col sm:flex-row flex-wrap justify-center gap-4">
                    <a href="tel:+16177788441" class="btn-teal px-6 md:px-12 py-4 md:py-5 rounded-full font-black text-xs md:text-sm uppercase tracking-widest inline-flex items-center justify-center"><i class="fas fa-phone mr-2 md:mr-3"></i><span id="callUs"></span></a>
                    <a href="https://wa.me/16177788441" class="bg-white border-2 px-6 md:px-12 py-4 md:py-5 rounded-full font-black text-xs md:text-sm uppercase tracking-widest hover:bg-gray-50 transition inline-flex items-center justify-center"><i class="fab fa-whatsapp mr-2 md:mr-3 text-green-500"></i><span id="whatsappLabel"></span></a>
                    <a href="mailto:contactsparkless@sparkllex.com" class="btn-teal px-6 md:px-12 py-4 md:py-5 rounded-full font-black text-xs md:text-sm uppercase tracking-widest inline-flex items-center justify-center"><i class="fas fa-envelope mr-2 md:mr-3"></i>Email Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Reviews Section -->
    <section id="reviews-section" class="py-24 bg-light-bg hidden">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-16 reveal">
                <span class="text-teal-primary font-black text-xs uppercase tracking-[0.3em] mb-4 block" data-translate="reviewsLabel">What Our Clients Say</span>
                <h2 class="text-4xl md:text-5xl font-black mb-6" data-translate="reviewsTitle">Customer Reviews</h2>
                <p class="text-gray-500 max-w-2xl mx-auto" data-translate="reviewsSubtitle">Real experiences from our valued members who trust Sparkllex for their home care needs.</p>
            </div>

            <div id="home-reviews-container" class="grid md:grid-cols-3 gap-6 mb-12">
                <!-- Reviews will be dynamically loaded here -->
            </div>

            <div class="text-center reveal">
                <a href="reviews.html" class="btn-teal px-10 py-5 rounded-full font-black text-sm uppercase tracking-widest inline-flex items-center gap-3">
                    <span data-translate="viewAllReviews">View All Reviews</span>
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </section>

    <section class="py-24 bg-white overflow-hidden">
        <div class="max-w-7xl mx-auto px-6">
            <div class="relative bg-teal-dark rounded-[3rem] overflow-hidden shadow-2xl flex flex-col md:flex-row items-center reveal">
                <div class="w-full md:w-1/2 h-80 md:h-[500px] relative">
                    <img src="./images/parter.jpg" alt="Become a Partner" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-r from-teal-dark/60 to-transparent"></div>
                </div>
                <div class="w-full md:w-1/2 p-12 md:p-16 text-white">
                    <h2 class="text-4xl md:text-5xl font-black italic tracking-tighter mb-6">Become a <span class="text-gold-accent">Sparkllex</span> Partner</h2>
                    <p class="text-slate-200 text-lg font-medium mb-10 italic">Join our elite network of cleaning and maintenance professionals. Manage your own schedule and earn premium rates.</p>
                    <a href="03_OPERATIONS/staff-signup.html" class="inline-block px-10 py-5 bg-gold-accent text-teal-dark font-black text-xs uppercase tracking-widest rounded-2xl shadow-xl hover:bg-white transition-all duration-300">
                        Join the Team <i class="fas fa-paper-plane ml-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Back to Top Button - Fixed -->
    <a href="#inicio" id="backToTop" class="fixed bottom-6 right-6 bg-gold-accent w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 hover:shadow-gold-accent/50 transition-all duration-300 z-[100] opacity-0 pointer-events-none">
        <i class="fas fa-arrow-up text-teal-dark text-xl md:text-2xl"></i>
    </a>

    <footer class="bg-teal-dark text-white pt-24 pb-12 relative overflow-hidden">        
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16 pb-16 border-b border-white/10 text-center md:text-left">
                <div class="col-span-1 md:col-span-1 flex flex-col items-center md:items-start">
                    <img src="./images/logo.png" class="h-10 brightness-0 invert mb-6">
                    <p class="text-sm opacity-60 leading-relaxed font-medium" id="footAbout"></p>
                </div>
                <div>
                    <h4 class="font-black uppercase tracking-widest mb-6 text-gold-accent" id="footLinksTitle"></h4>
                    <div class="flex flex-col space-y-4 text-sm font-bold opacity-80 uppercase tracking-tighter">
                        <a href="#inicio" id="footNavHome"></a>
                        <a href="#servicios" id="footNavServices"></a>
                        <a href="#planes" id="footNavPlans"></a>
                        <a href="how-it-works.html" id="footHowItWorks"></a>
                    </div>
                </div>
                <div>
                    <h4 class="font-black uppercase tracking-widest mb-6 text-gold-accent" id="footLegalTitle"></h4>
                    <div class="flex flex-col space-y-4 text-sm font-bold opacity-80 uppercase tracking-tighter">
                        <a href="privacy.html" id="footPrivacy"></a>
                        <a href="terms.html" id="footTerms"></a>
                        <a href="cookies.html" id="footCookies"></a>
                    </div>
                </div>
                <div>
                    <h4 class="font-black uppercase tracking-widest mb-6 text-gold-accent" id="footPaymentsTitle"></h4>
                    <div class="flex justify-center md:justify-start gap-4 text-3xl mb-6">
                        <i class="fab fa-cc-visa text-[#1A1F71]"></i>
                        <i class="fab fa-cc-mastercard text-[#EB001B]"></i>
                        <i class="fab fa-cc-apple-pay text-white"></i>
                        <i class="fab fa-cc-paypal text-[#00457C]"></i>
                    </div>
                    <h4 class="font-black uppercase tracking-widest mb-4 text-gold-accent text-[10px]" data-translate="footFollowUs">Follow Us</h4>
                    <div class="flex justify-center md:justify-start gap-4 text-2xl">
                        <a href="https://www.facebook.com/sparkllex" target="_blank" rel="noopener noreferrer" class="hover:text-gold-accent transition" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="https://www.instagram.com/sparkllex" target="_blank" rel="noopener noreferrer" class="hover:text-gold-accent transition" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.linkedin.com/company/sparkllex" target="_blank" rel="noopener noreferrer" class="hover:text-gold-accent transition" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="https://wa.me/16177788441" target="_blank" rel="noopener noreferrer" class="hover:text-gold-accent transition" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <p class="opacity-40 text-[10px] uppercase font-bold tracking-[0.3em]" id="footerRights">&copy; 2026 Sparkllex. All rights reserved.</p>
                <div class="text-[7px] uppercase tracking-[0.3em] mt-4"><a href="privacy.html" style="color: white; text-decoration: underline;" class="hover:opacity-80 transition cursor-pointer">SPARKLLEX LLC</a> | Designed by <a href="https://gui-fiedly.vercel.app" target="_blank" rel="noopener noreferrer" style="color: white; text-decoration: underline;" class="hover:opacity-80 transition cursor-pointer">GF Digital Studio</a> | <a href="mailto:isteah.gffilsaime@gmail.com" style="color: white; text-decoration: underline;" class="hover:opacity-80 transition cursor-pointer">Gui Fiedly Fils-aime</a></div>
            </div>
        </div>
    </footer>

    <script>
        const menu = document.getElementById('mobile-menu');
        function toggleMenu() { menu.classList.toggle('open'); }
        document.getElementById('menu-toggle').addEventListener('click', toggleMenu);
        document.getElementById('menu-close').addEventListener('click', toggleMenu);

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Back to Top Button
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 400) {
                backToTop.classList.remove('opacity-0', 'pointer-events-none');
                backToTop.classList.add('opacity-100');
            } else {
                backToTop.classList.add('opacity-0', 'pointer-events-none');
                backToTop.classList.remove('opacity-100');
            }
        });
    </script>

    <!-- Floating AI Chat Button & Modal -->
    <div id="ai-chat-btn" onclick="toggleAIChat()" class="fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-br from-teal-primary to-teal-dark rounded-full shadow-2xl cursor-pointer z-[1000] flex items-center justify-center hover:scale-110 transition-all duration-300 group">
        <i class="fas fa-robot text-white text-2xl group-hover:animate-pulse"></i>
        <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"></div>
    </div>

    <div id="ai-chat-modal" class="fixed bottom-24 right-6 w-[380px] max-w-[calc(100vw-48px)] h-[500px] max-h-[70vh] bg-white rounded-3xl shadow-2xl z-[1001] flex-col overflow-hidden border border-gray-100 hidden">
        <!-- Header -->
        <div class="bg-gradient-to-r from-teal-primary to-teal-dark p-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center">
                    <i class="fas fa-robot text-white text-lg"></i>
                </div>
                <div>
                    <h3 class="text-white font-bold text-sm">Sparkllex Assistant</h3>
                    <p class="text-white/70 text-[10px] font-medium">Online â€¢ 24/7</p>
                </div>
            </div>
            <button onclick="toggleAIChat()" class="w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center text-white hover:bg-white/30 transition">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Messages -->
        <div id="ai-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50" style="height: calc(100% - 140px);">
            <div class="flex gap-3">
                <div class="w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-teal-primary text-xs"></i>
                </div>
                <div class="bg-white p-3 rounded-2xl rounded-tl-sm shadow-sm max-w-[85%]">
                    <p class="text-sm text-gray-700" id="ai-welcome">Hi! I'm the Sparkllex assistant. Ask me anything about our services, plans, or how to get started!</p>
                </div>
            </div>
        </div>

        <!-- Input -->
        <div class="p-4 bg-white border-t border-gray-100">
            <div class="flex gap-2">
                <input type="text" id="ai-input" placeholder="Type your question..." 
                    class="flex-1 px-4 py-3 bg-gray-100 rounded-xl text-sm outline-none focus:ring-2 focus:ring-teal-primary/20 transition"
                    onkeypress="if(event.key==='Enter') sendAIMessage()">
                <button onclick="sendAIMessage()" class="w-12 h-12 bg-teal-primary text-white rounded-xl flex items-center justify-center hover:bg-teal-dark transition shadow-lg">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <style>
        #ai-chat-modal { display: none; }
        #ai-chat-modal.open { display: flex; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        #ai-messages::-webkit-scrollbar { width: 4px; }
        #ai-messages::-webkit-scrollbar-thumb { background: #00808033; border-radius: 10px; }
        .ai-typing { display: flex; gap: 4px; padding: 12px; }
        .ai-typing span { width: 6px; height: 6px; background: #008080; border-radius: 50%; animation: bounce 1.4s infinite; }
        .ai-typing span:nth-child(2) { animation-delay: 0.2s; }
        .ai-typing span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce { 0%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-6px); } }
    </style>

    <script>
        let publicConversationHistory = [];

        function toggleAIChat() {
            const modal = document.getElementById('ai-chat-modal');
            modal.classList.toggle('open');
            if (modal.classList.contains('open')) {
                document.getElementById('ai-input').focus();
            }
        }

        function addAIBubble(text, isUser = false) {
            const container = document.getElementById('ai-messages');
            const div = document.createElement('div');
            div.className = `flex gap-3 ${isUser ? 'flex-row-reverse' : ''}`;
            
            const iconBg = isUser ? 'bg-gold-accent' : 'bg-teal-100';
            const iconColor = isUser ? 'text-white' : 'text-teal-primary';
            const bubbleBg = isUser ? 'bg-teal-primary text-white' : 'bg-white';
            const bubbleRadius = isUser ? 'rounded-2xl rounded-tr-sm' : 'rounded-2xl rounded-tl-sm';
            const icon = isUser ? 'fa-user' : 'fa-robot';

            div.innerHTML = `
                <div class="w-8 h-8 ${iconBg} rounded-lg flex items-center justify-center flex-shrink-0">
                    <i class="fas ${icon} ${iconColor} text-xs"></i>
                </div>
                <div class="${bubbleBg} p-3 ${bubbleRadius} shadow-sm max-w-[85%]">
                    <p class="text-sm">${text.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\*(.*?)\*/g, '<em>$1</em>')}</p>
                </div>
            `;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        function showTyping() {
            const container = document.getElementById('ai-messages');
            const div = document.createElement('div');
            div.id = 'typing';
            div.className = 'flex gap-3';
            div.innerHTML = `
                <div class="w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-teal-primary text-xs"></i>
                </div>
                <div class="bg-white p-3 rounded-2xl rounded-tl-sm shadow-sm ai-typing">
                    <span></span><span></span><span></span>
                </div>
            `;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        async function sendAIMessage() {
            const input = document.getElementById('ai-input');
            const text = input.value.trim();
            if (!text) return;

            addAIBubble(text, true);
            input.value = '';
            showTyping();

            try {
                const response = await fetch('/api/public-chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        message: text,
                        conversationHistory: publicConversationHistory
                    })
                });

                const data = await response.json();
                document.getElementById('typing')?.remove();

                if (data.response) {
                    addAIBubble(data.response);
                    if (data.conversationHistory) {
                        publicConversationHistory = data.conversationHistory;
                    }
                } else if (data.error && data.error.includes('quota')) {
                    // Rate limit hit
                    const lang = localStorage.getItem('preferredLang') || 'en';
                    const msg = lang === 'es' 
                        ? "Â¡Ups! Estoy un poco ocupada ahora. ðŸ˜… Por favor, espera unos segundos y vuelve a intentarlo."
                        : "Oops! I'm a bit busy right now. ðŸ˜… Please wait a few seconds and try again.";
                    addAIBubble(msg);
                } else if (data.error) {
                    addAIBubble("I'm having a small technical issue. Please try again in a moment! ðŸ”§");
                } else {
                    addAIBubble("I didn't quite catch that. Could you try asking again? ðŸ˜Š");
                }
            } catch (err) {
                document.getElementById('typing')?.remove();
                addAIBubble("Connection issue. Please try again.");
            }
        }

        // Set welcome message based on language
        const lang = localStorage.getItem('preferredLang') || 'en';
        if (lang === 'es') {
            document.getElementById('ai-welcome').textContent = 'Â¡Hola! Soy el asistente de Sparkllex. Â¡PregÃºntame sobre nuestros servicios, planes o cÃ³mo empezar!';
        }
    </script>

    <!-- Supabase for Reviews -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./database-config.js"></script>
    <script>
        // XSS Protection
        function escapeHtml(str) {
            if (!str) return '';
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        // Load reviews for homepage
        const MIN_REVIEWS_TO_SHOW = 3;

        async function loadHomeReviews() {
            try {
                if (!supabaseClient) return;
                const { data: reviews, error } = await supabaseClient
                    .from('reviews')
                    .select('*')
                    .eq('approved', true)
                    .order('created_at', { ascending: false })
                    .limit(6);

                if (error) throw error;

                if (reviews && reviews.length >= MIN_REVIEWS_TO_SHOW) {
                    document.getElementById('reviews-section').classList.remove('hidden');
                    renderHomeReviews(reviews.slice(0, 3));
                }
            } catch (err) {
                console.error('Error loading reviews:', err);
            }
        }

        function renderHomeReviews(reviews) {
            const container = document.getElementById('home-reviews-container');
            container.innerHTML = reviews.map(review => {
                const stars = generateStars(review.rating);
                const photos = review.photos ? JSON.parse(review.photos) : [];
                const firstPhoto = photos.length > 0 ? `<img src="${escapeHtml(photos[0])}" alt="Review photo" class="w-full h-32 object-cover rounded-xl mt-4">` : '';

                return `
                    <div class="bg-white p-6 rounded-3xl shadow-lg border border-gray-50 reveal">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center gap-3">
                                <div class="w-12 h-12 rounded-full bg-teal-primary/10 flex items-center justify-center">
                                    <span class="text-teal-primary font-black text-lg">${review.client_name ? escapeHtml(review.client_name).charAt(0).toUpperCase() : 'A'}</span>
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-900">${escapeHtml(review.client_name) || 'Anonymous'}</h4>
                                    ${review.service_type ? `<span class="text-[10px] font-bold text-teal-primary uppercase">${escapeHtml(review.service_type)}</span>` : ''}
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-0.5 mb-3">${stars}</div>
                        <p class="text-gray-600 text-sm leading-relaxed line-clamp-3">${escapeHtml(review.comment) || ''}</p>
                        ${firstPhoto}
                    </div>
                `;
            }).join('');

            // Re-observe new elements for reveal animation
            document.querySelectorAll('#home-reviews-container .reveal').forEach(el => observer.observe(el));
        }

        function generateStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                stars += `<i class="fas fa-star ${i <= rating ? 'text-gold-accent' : 'text-gray-200'}"></i>`;
            }
            return stars;
        }

        // Load reviews when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeSupabase();
            loadHomeReviews();
        });
    </script>
    <script src="cookie-consent.js"></script>
    <script src="pwa-install.js"></script>
</body>
</html>
